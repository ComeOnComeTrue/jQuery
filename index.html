<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./index.css">
    <style>
        body {
            width: 5000px;
            height: 5000px;
        }

        .wrapper {
            position: absolute;
            left: 100px;
            top: 100px;
            width: 500px;
            height: 500px;
            background-color: #000;
        }

        .wrapper .centent {
            position: absolute;
            left: 50px;
            top: 51px;
            width: 50px;
            height: 50px;
            background-color: red;
        }
    </style>
</head>

<body>
    <!-- <div class="wrapper">
    <h1>水果</h1>
    全部<input type="checkbox" value="three"></input>
    2<input type="checkbox" value="org">
    <h1>shu</h1>
    全部<input type="checkbox" value="three"></input>
    2<input type="checkbox" value="org">
    <input type="submit" value="login">
</div> -->
    <p class=".p">
        <span></span>
        <i></i>
        <span></span>
        <i></i>
        <span></span>
        <i></i>
    </p>

    <!-- <div class="wrapper">
        <ul class="style1">
            <li>1</li>
        </ul>
        <ul class="style2 ">
            <li>1</li>
        </ul>
    </div> -->
    <!-- 
    <div class="wrapper">
        <div class="tpl">
            <p id="a"></p>
            <span></span>
            <button>add</button>
        </div>
        <p class="show">
            <span>sum</span>
            <span class="sum">0</span>
        </p>
    </div> -->
    <!-- <script src="./jquery-3.4.1.js"></script> -->
    <script src="./myjQuery.js"></script>
    <script>

        // $('div').css({width: 40, height: 50, backgroundColor:'red'});

        // null undefined 容错机制
        // var colorsArr = ['red', 'blue', 'yellow'];
        // $('.wrapper .demo').each(function (index, ele) {
        //     $(ele)
        //     .find('span')
        //     .css({color: colorsArr[index]})
        // })

        // window.onload = function () {
        //     console.log('window.onload')
        // }
        // $(function () {  //==$(document).ready(function () {})
        //     console.log('DOMContentLoaded')
        // })

        // $('.wrapper ul')  $('ul', '.wrapper') 两种
        // console.log($('.demo').get(0));//获取第一个class名为demo的元素，填空值返回一个数组全部名字为demo的元素

        // $('.wrapper ul li').not(function (index, ele) {
        //     return index % 2 == 0;
        // }).css({color:'red'});
        // prevObject上一个对象下查找

        // $('li').has('ul').css({backgroundColor: 'red'});//全部li中子元素带有ul的背景为红

        // var flag = $('.wrapper .demo').is('span');
        // $('ul').click(function (e){//点击的目标源是不是Li,ul调用this
        //     if( $(e.traget).is('li') ){
        //         alert( $(e.target).text());
        //     }else{
        //         alert( $(this).text );
        //     }
        // });
        // $('.wrapper')//.wrapper下的ul集中操作添加修改样式
        //     .add('ul')
        //         .css({position: 'relative'});
        // $('.wrapper')//回退上一个父级进行添加或修改样式
        //     .css({position: 'relative'})//变absolute
        //         .find('ul')
        //             .css({position: 'relative'})
        //                 .end()
        //                     .css({position: 'absolute'})

        // console.log( $('ul li').html() ); //选择操作的第一个元素下面的全部内容，选取第一个，集体操作
        // var arrName = ['赵','王','李'];//传入li文本中
        // $('ul li').find(function (index, ele) {
        //     return '<span style="color:red">' + arrName[index] + '</span>'
        // });

        // text 是封装原生innerText,选取全部文本进行操作，集体操作
        // $("ul li").text(function (index, ele) {
        //     return arrName[index];
        // })
        // console.log( $('ul li').length )
        // console.log( $('ul li').size() )//放回霸占长度多少值,返回数字
        // $('ul li').eq(0).addClass('active')//第一个li添加类名,
        // $('ul li').eq(0).removeClass('demo')//什么都不填就全部li类名删除
        // $('ul li').addClass(function (index, ele) {
        //     if (index % 2 == 0) {
        //         return 'duyi'
        //     }
        //     return 'active'
        // })
        // $('.demo').hasClass('active')//demo中有没有类名active返回布尔值

        // $('.wrapper').click(function (ele, index) {
        //     console.log(ele)
        //     if ( $(this).hasClass('active') ) {
        //         $(this).removeClass('active');
        //     }else {
        //         $(this).addClass('active');
        //     }
        // })

        // 自定义属性用attr，特性属性prop好，特性映射，非特性不能
        // attr 基于 setAttribute getAttribute
        // 取值,取属性值
        // $('.demo').attr('cst')
        // //赋值  
        // $('.demo').attr('name','张三')
        // attr 基于 setAttribute getAttribute
        // 特性属性可在dom元素中显示，自定义属性不显示
        // $('input[type="checkbox"]').val('a')//获取input并且里面属性有type的value值

        //点击全部，全勾选
        // $('input[type="checkbox"]').eq(0).click(function () {
        //     if ($(this).prop('checked')) {//true
        //         $(this).nextAll('input[type="checkbox"]').prop('checked', true);//this一下的全部同级input属性chacked为true
        //     } else {
        //         $(this).nextAll('input[type="checkbox"]').prop('checked', false);
        //     }
        // })

        // $('h1').next().click(function () {//h1下面的兄弟元素
        //     if ($(this).prop('checked')) {//true
        //         $(this).nextUntil('h1','input[type="checkbox"]').prop('checked', true);
        //         //nextUntil('到什么为止','限定条件')
        //     } else {
        //         $(this).nextUntil('h1','input[type="checkbox"]').prop('checked', false);
        //     }
        // })

        //

        // var shopArr = [
        //     {
        //         name: 'james solider',
        //         shopName: 'nike',
        //         price: '90',
        //         id: '1001'
        //     },
        //     {
        //         name: 'Rose crazy',
        //         shopName: 'adidas',
        //         price: '110',
        //         id: '1002'
        //     },
        //     {
        //         name: 'curry one',
        //         shopName: 'under',
        //         price: '120',
        //         id: '1003'
        //     }
        // ]

        // shopArr.forEach(function (ele, index) {
        //     var oCloneDom = $('.tpl').clone().removeClass('tpl');
        //     oCloneDom.data({ id: ele.id, shopName: ele.shopName, price: ele.price })
        //         .find('p').text(ele.name).next().text(ele.price);
        //     oCloneDom.insertBefore($('.show'));//插前面 
        // });

        // $('.wrapper button').click(function () {
        //     //之前的加上点击的
        //     $('.sum').text(parseInt($('.sum').text()) + parseInt($(this).parent().data('price')))
        // })

        // $('.demo').on('click',function(){});//1,4
        // $('ul').on('click','li',function(){});//1,2,4限定条件ul中的li绑定事件，只能li触发  
        // $('.demo').on({
        //     click: function () {
        //         console.log(1)
        //     },
        //     mouseenter: function () {
        //         console.log(2)
        //     },
        //     mouseleave: function () {
        //         console.log(3)
        //     }
        // });

        //width height opacity padding margin 从暗到明

        // $('.demo').hover(function(){console.log('enter')},function(){console.log('leave')});
        // $('.demo')
        // .css({position: 'absolute',left:0,top:0,width:'100px',height:'100px',backgroundColor: 'red'})
        // .myAnimate({ width: 100,height: 100, left: 100, top: 100 },function(){})
        //     .myDelay(1000)
        // .myAnimate({widht: 500,top: 500})
        //     .myDelay(1000)
        // .myAnimate({ width: 300,height: 300, left: 300, top: 300 })

        // $('p').children().each(function (index, ele) {//p标签所有子元素，添加文本
        //     if (ele.nodeName == 'I') {
        //         $(ele).text('i-' + index);
        //     }else{
        //         $(ele).text('span-' + index);}
        // })

        // $.ajax({
        //     url: '请求地址，必须的',
        //     type: 'GET请求方式，必须的',
        //     data: {参数信息:'必须的'},//前面三个有了基本可以发送请求了
        //     success: function(res) {},//请求成功后的处理函数
        //     error: function(e) {e.status,e.statusText},//请求失败后处理函数
        //     complete:'',//请求完成的处理函数 最后执行
        //     context: $('.wrapper'),//改变函数上下文，函数里的this
        //     timeout:3000,//设置请求超时时间，一般不用
        //     async: true,// 是否异步默认true
        //     dataType:'jsonp',//跨域，配合data:{wd:'nba',cd:'fun'}
        // })

        // function a() { console.log('a')}; function b() { console.log('b')};//回调处理函数
        // var cb = $.Callbacks();
        // cb.add(a, b);//把a和b一起放到回调里
        // cb.fire();//执行,一般满足条件后使用
        // cb.fire();

        // var df = $.Deferred();
        // done 成功 fail 失败  progress 正在进行 
        // resolve  reject  notify  对应方法

        // var df = createScore();
        // function createScore() {
        //     var df = $.Deferred();//防止外部操作
        //     setInterval(function () {//异步做一件事
        //         var score = Math.random() * 100;
        //         console.log(score)
        //         if (score > 80) {
        //             df.resolve('1');//可传参
        //         } else if (score < 40) {
        //             df.reject('2');//可传参
        //         } else {
        //             df.notify('3');//可传参
        //         }
        //     }, 1500);
        //     return df.promise();//只返回注册功能done fail progress
        // }

        // df.then(function (ms) {
        //     console.log('done');
        //     return 'done';
        // }, function (ms) {
        //     console.log('fail');
        //     return 'fail';
        // }, function (ms) {
        //     console.log('progress');
        //     return 'progress';
        // })
        // //第一个功能：第二个then接受前面return出的值
        // df.then(function (ms) {
        //     var innerDf = $.Deferred();
        //     return innerDf.promise();
        // });

        var df = createScore();
        function createScore() {
            var df = $.myDeferred();//防止外部操作
            setInterval(function () {//异步做一件事
                var score = Math.random() * 100;
                console.log(score)
                if (score > 80) {
                    df.resolve();//可传参
                } else if (score < 40) {
                    df.reject();//可传参
                } else {
                    df.notify();//可传参
                }
            }, 1500);
            return df;//只返回注册功能done fail progress
        }
        df.done(function () {//注册成功后的函数
            console.log('done')
        });
        df.fail(function () {//注册失败的函数
            console.log('fail')
        });
        df.progress(function () {//注册进行时的函数,如果触发这个,还会继续执行直到成功或失败
            console.log('progress')
        });

        
    </script>

</body>

</html>